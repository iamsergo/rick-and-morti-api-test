(this.webpackJsonprickandmorti=this.webpackJsonprickandmorti||[]).push([[0],{128:function(e,t,r){},132:function(e,t,r){"use strict";r.r(t);var a={};r.r(a),r.d(a,"FETCH_CHARACTERS",(function(){return O})),r.d(a,"FETCH_CHARACTERS_SUCCESS",(function(){return f})),r.d(a,"FETCH_CHARACTERS_FAIL",(function(){return x})),r.d(a,"SET_FILTERS",(function(){return m})),r.d(a,"SET_CURRENT_CHARACTER",(function(){return p}));var n={};r.r(n),r.d(n,"fetchCharacters",(function(){return y})),r.d(n,"fetchCharactersSuccess",(function(){return w})),r.d(n,"fetchCharactersFail",(function(){return E})),r.d(n,"setFilters",(function(){return k})),r.d(n,"setCurrentCharacter",(function(){return S}));var c={};r.r(c),r.d(c,"getCharacters",(function(){return N}));var s=r(0),i=r.n(s),l=r(30),u=r.n(l),o=r(28),j=r(103),d=r(33),b=r(19),h=r(25),O="characters/characters/fetch/characters",f="characters/characters/fetch/characters/success",x="characters/characters/fetch/characters/fail",m="characters/characters/set/filters",p="characters/modal/set/current-character",v={isLoading:!1,hasError:!1,currentPage:0,filters:{name:"",species:"",type:"",gender:"",status:""},characters:[],pagination:null},g={currentCharacter:null},C=Object(d.b)({characters:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(h.a)(Object(h.a)({},e),{},{isLoading:!0,hasError:!1,currentPage:e.currentPage+1});case x:return Object(h.a)(Object(h.a)({},e),{},{isLoading:!1,hasError:!0,currentPage:e.currentPage-1});case f:var r=t.payload,a=r.info,n=r.results;return Object(h.a)(Object(h.a)({},e),{},{isLoading:!1,hasError:!1,characters:[].concat(Object(b.a)(e.characters),Object(b.a)(n)),pagination:a});case m:return Object(h.a)(Object(h.a)({},e),{},{filters:t.payload,currentPage:0,characters:[],pagination:null});default:return e}},modal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;return t.type===p?Object(h.a)(Object(h.a)({},e),{},{currentCharacter:t.payload}):e}}),y=function(e){return{type:O,payload:e}},w=function(e){return{type:f,payload:e}},E=function(){return{type:x}},k=function(e){return{type:m,payload:e}},S=function(e){return{type:p,payload:e}},T=C,R=Object(d.b)({characters:T}),_=r(29),A=r.n(_),F=r(93),L=r(46),H=r(15),P=r(104),I=r(96),W=["page"],N=function(){var e=Object(I.a)(A.a.mark((function e(t){var r,a,n,c,s;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.page,a=Object(P.a)(t,W),n="https://rickandmortyapi.com/api/character/?page=".concat(r),Object.entries(a).filter((function(e){return Object(H.a)(e,2)[1]})).forEach((function(e){var t=Object(H.a)(e,2),r=t[0],a=t[1];n+="&".concat(r,"=").concat(a)})),e.next=5,fetch(n);case 5:return c=e.sent,e.next=8,c.json();case 8:return s=e.sent,e.abrupt("return",s);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M={characters:c},U=A.a.mark(J),D=A.a.mark(V);function J(e){var t,r;return A.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.payload,a.next=4,M.characters.getCharacters(t);case 4:if(!(r=a.sent).error){a.next=10;break}return a.next=8,Object(L.b)(n.fetchCharactersSuccess({info:null,results:[]}));case 8:a.next=12;break;case 10:return a.next=12,Object(L.b)(n.fetchCharactersSuccess(r));case 12:a.next=18;break;case 14:return a.prev=14,a.t0=a.catch(0),a.next=18,Object(L.b)(n.fetchCharactersFail());case 18:case"end":return a.stop()}}),U,null,[[0,14]])}function V(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(L.c)(a.FETCH_CHARACTERS,J);case 2:case"end":return e.stop()}}),D)}var X=V,B=A.a.mark(G);function G(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(F.a)([X()]);case 2:case"end":return e.stop()}}),B)}var q=G,z=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||d.c,K=Object(j.a)(),Q=z(Object(d.a)(K)),Y=Object(d.d)(R,Q);K.run(q);var Z=Y,$=(r(128),r(190)),ee=r(71),te=r(173),re=r(175),ae=r(183),ne=r(191),ce=r(102),se=r(2),ie=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.characters.characters})).isLoading,r=Object(ce.a)({initialValues:{name:"",species:"",type:"",gender:"",status:""},onSubmit:function(t){var r=Object.fromEntries(Object.entries(t).filter((function(e){return Object(H.a)(e,2)[1]})));e(n.setFilters(Object(h.a)({},r)))}});return Object(se.jsxs)(ne.a,{component:"form",sx:{p:1},onSubmit:r.handleSubmit,children:[Object(se.jsx)(ee.a,{variant:"h5",children:"Filters"}),Object(se.jsx)(te.a,{disabled:t,sx:{mb:2},fullWidth:!0,name:"name",label:"Name",variant:"outlined",value:r.values.name,onChange:r.handleChange}),Object(se.jsx)(te.a,{disabled:t,sx:{mb:2},fullWidth:!0,name:"species",label:"Species",variant:"outlined",value:r.values.species,onChange:r.handleChange}),Object(se.jsx)(te.a,{disabled:t,sx:{mb:2},fullWidth:!0,name:"type",label:"Type",variant:"outlined",value:r.values.type,onChange:r.handleChange}),Object(se.jsxs)(te.a,{disabled:t,select:!0,sx:{mb:2},fullWidth:!0,name:"gender",label:"Gender",value:r.values.gender,onChange:r.handleChange,children:[Object(se.jsx)(re.a,{value:"",children:"none"}),Object(se.jsx)(re.a,{value:"female",children:"female"}),Object(se.jsx)(re.a,{value:"male",children:"male"}),Object(se.jsx)(re.a,{value:"genderless",children:"genderless"}),Object(se.jsx)(re.a,{value:"unknown",children:"unknown"})]}),Object(se.jsxs)(te.a,{disabled:t,select:!0,sx:{mb:2},fullWidth:!0,name:"status",label:"Status",value:r.values.status,onChange:r.handleChange,children:[Object(se.jsx)(re.a,{value:"",children:"none"}),Object(se.jsx)(re.a,{value:"alive",children:"alive"}),Object(se.jsx)(re.a,{value:"dead",children:"dead"}),Object(se.jsx)(re.a,{value:"unknown",children:"unknown"})]}),Object(se.jsxs)(ne.a,{sx:{display:"flex"},children:[Object(se.jsx)(ae.a,{type:"submit",variant:"outlined",disabled:t,children:"Apply"}),Object(se.jsx)(ae.a,{onClick:function(){return r.resetForm()},disabled:t,sx:{ml:1},color:"secondary",variant:"text",children:"Clear"})]})]})},le=r(182),ue=r(184),oe=r(185),je=r(176),de=r(171),be=r(186),he=r(179),Oe=r(172),fe=r(99),xe=r.n(fe),me=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.characters.characters})),r=t.isLoading,a=t.hasError,c=t.currentPage,s=t.filters,l=t.characters,u=t.pagination,j=function(){e(n.fetchCharacters(Object(h.a)({page:c+1},s)))},d=function(e){var t=i.a.useRef(null),r=i.a.useRef(null);return i.a.useEffect((function(){if(r.current&&r.current!==t.current){t.current=r.current;var a={root:null,rootMargin:"".concat(.5*window.innerHeight,"px"),threshold:0},n=new IntersectionObserver((function(t){Object(H.a)(t,1)[0].isIntersecting&&e()}),a);return n.observe(r.current),function(){n.disconnect()}}})),r}((function(){u&&u.next&&j()}));i.a.useEffect((function(){j()}),[s]);var b=function(t){e(n.setCurrentCharacter(t))};return Object(se.jsxs)(le.a,{dense:!0,children:[Object(se.jsx)(ue.a,{children:Object(se.jsxs)(ee.a,{variant:"h4",sx:{color:"text.primary"},children:["Characters",Object(se.jsx)(oe.a,{sx:{ml:2},color:"primary",onClick:function(){return window.scrollTo({top:0,behavior:"smooth"})},children:Object(se.jsx)(xe.a,{})}),u&&Object(se.jsxs)(ee.a,{variant:"body2",color:"gray",children:["Loaded ",l.length," of ",u.count]})]})},"list-subheader"),l.map((function(e,t){return t===l.length-1?Object(se.jsx)(je.a,{onClick:function(){return b(e)},ref:d,children:Object(se.jsxs)(de.a,{children:[Object(se.jsx)(be.a,{children:Object(se.jsx)(he.a,{alt:e.name,src:e.image})}),Object(se.jsx)(Oe.a,{primary:e.name,secondary:e.species})]})},e.id+t):Object(se.jsx)(je.a,{onClick:function(){return b(e)},children:Object(se.jsxs)(de.a,{children:[Object(se.jsx)(be.a,{children:Object(se.jsx)(he.a,{alt:e.name,src:e.image})}),Object(se.jsx)(Oe.a,{primary:e.name,secondary:e.species})]})},e.id+t)})),r&&Object(se.jsx)(je.a,{children:Object(se.jsx)(de.a,{disabled:!0,children:Object(se.jsx)(Oe.a,{primary:"Loading..."})})},"loading-item"),!a&&!r&&0===l.length&&Object(se.jsx)(je.a,{children:Object(se.jsx)(de.a,{disabled:!0,children:Object(se.jsx)(Oe.a,{primary:"Not found"})})},"not-found-item"),0!==l.length&&u&&!u.next&&Object(se.jsx)(je.a,{children:Object(se.jsx)(de.a,{disabled:!0,children:Object(se.jsx)(Oe.a,{primary:"Founded ".concat(u.count," items")})})},"last-item"),a&&Object(se.jsx)(je.a,{children:Object(se.jsx)(de.a,{onClick:j,children:Object(se.jsx)(Oe.a,{primary:"Try again",secondary:"Something went wrong"})})},"error-item")]})},pe=r(187),ve=r(188),ge=r(189),Ce=r(180),ye=r(101),we=r.n(ye),Ee=r(100),ke=r.n(Ee),Se=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.characters.modal})).currentCharacter;return Object(se.jsx)(pe.a,{open:!!t,onClose:function(){e(n.setCurrentCharacter(null))},children:t&&Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)(ve.a,{children:t.name}),Object(se.jsxs)(ge.a,{children:[Object(se.jsx)("img",{style:{width:"100%"},alt:t.name,src:t.image}),"unknown"!==t.status&&Object(se.jsx)(Ce.a,{variant:"outlined",color:"Alive"===t.status?"success":"error",label:t.status,sx:{mt:1,mr:1}}),"unknown"!==t.species&&Object(se.jsx)(Ce.a,{variant:"outlined",color:"default",label:t.species,sx:{mt:1,mr:1}}),"unknown"!==t.gender&&Object(se.jsx)(Ce.a,{variant:"outlined",color:"primary",label:t.gender,sx:{mt:1,mr:1}}),"unknown"!==t.origin.name&&Object(se.jsx)(Ce.a,{icon:Object(se.jsx)(ke.a,{}),variant:"filled",color:"primary",label:t.origin.name,sx:{mt:1,mr:1}}),"unknown"!==t.location.name&&Object(se.jsx)(Ce.a,{icon:Object(se.jsx)(we.a,{}),variant:"filled",color:"default",label:t.location.name,sx:{mt:1,mr:1}})]})]})})},Te=function(){return Object(se.jsxs)($.a,{maxWidth:"sm",children:[Object(se.jsx)(ee.a,{variant:"h4",sx:{mb:2},children:"Rick and Morti API"}),Object(se.jsx)(ie,{}),Object(se.jsx)(me,{}),Object(se.jsx)(Se,{})]})};u.a.render(Object(se.jsx)(o.a,{store:Z,children:Object(se.jsx)(Te,{})}),document.getElementById("root"))}},[[132,1,2]]]);
//# sourceMappingURL=main.0e5967a5.chunk.js.map